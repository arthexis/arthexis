[
  {
    "model": "core.todo",
    "fields": {
      "request": "Manual QA: Confirm logins no longer broadcast Net Messages",
      "created_on": "2024-01-01T00:00:00Z",
      "url": "/admin/nodes/netmessage/",
      "request_details": "Log in to the admin as a staff member and refresh Nodes â†’ Net Messages. Confirm no new \"login <username>\" entry appears after authentication. From the same environment run `python manage.py shell -c \"import json; from django.contrib.auth import get_user_model; from django.test import Client; from django.urls import reverse; from nodes.models import NetMessage, Node, NodeRole; client = Client(); User = get_user_model(); staff = User.objects.filter(is_staff=True).first(); assert staff, 'Create a staff user before running this check.'; client.force_login(staff); role, _ = NodeRole.objects.get_or_create(name='Terminal'); visitor_defaults = {'address': '10.0.0.100', 'port': 8888, 'mac_address': '00:10:20:30:40:50', 'role': role}; visitor, _ = Node.objects.get_or_create(hostname='qa-visitor', defaults=visitor_defaults); payload = {'hostname': 'qa-host', 'address': '10.0.0.10', 'port': 8100, 'mac_address': 'aa:bb:cc:dd:ee:01', 'current_relation': 'Upstream'}; response = client.post(reverse('register-node'), data=json.dumps(payload), content_type='application/json'); assert response.status_code == 200, response.content; assert not NetMessage.objects.filter(subject__startswith='NODE ').exists(), 'Visitor registration still created a Net Message.'\"` to simulate a visitor node linking upstream. Reload the Net Messages changelist and ensure it remains empty.",
      "done_on": null,
      "is_deleted": false,
      "version": "0.1.31"
    }
  }
]
