[
  {
    "model": "core.todo",
    "fields": {
      "request": "Manual QA: Confirm install --repair reuses existing database",
      "created_on": "2025-02-02T00:00:00Z",
      "url": "/admin/auth/user/",
      "request_details": "1. On a node with an existing installation, create a marker user via `python manage.py shell -c \"from django.contrib.auth import get_user_model; User = get_user_model(); User.objects.update_or_create(username='repair-check', defaults={'email': 'repair-check@example.com'})\"` and confirm the command reports an update/create.\n2. From the deployment root, run `./install.sh --repair --service arthexis` without the --clean flag.\n3. Verify the script does not exit with the database warning and prints \"Repair mode: reusing existing database at\" referencing db.sqlite3 while completing normally.\n4. Open the Django admin Users page (/admin/auth/user/) and confirm the `repair-check` user still exists, proving the database was reused instead of replaced.\n5. Spot-check a few core pages (e.g., dashboard, upgrade report) to ensure the deployment is operational after the repair run.",
      "done_on": null,
      "is_deleted": false,
      "version": "0.1.33"
    }
  }
]
