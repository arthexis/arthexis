{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<div id="content-main">
  <h1>{{ title }}</h1>
  <form method="post" style="margin-bottom:1em;">
    {% csrf_token %}
    <label for="token_input">{% trans "Token" %}</label>
    <input type="text" name="token" id="token_input" value="{{ token }}" />
    <button type="submit">{% trans "Validate" %}</button>
  </form>
  {% if token %}
  <p>{% trans "Result" %}: {{ resolved }}</p>
  {% endif %}
  <table>
    <thead>
      <tr><th>{% trans "Prefix" %}</th><th>{% trans "Model" %}</th><th>{% trans "Fields" %}</th></tr>
    </thead>
    <tbody>
    {% for root in sigil_roots %}
      <tr>
        <td>[{{ root.prefix }}]</td>
        <td>{{ root.model }}</td>
        <td>{% for field in root.fields %}{{ field }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
      </tr>
    {% empty %}
      <tr><td colspan="3">{% trans "No Sigil Roots." %}</td></tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
