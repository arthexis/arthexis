from django.db import migrations

DIAGRAM = """iVBORw0KGgoAAAANSUhEUgAAAZAAAADICAIAAABJdyC1AAAPQElEQVR4nO3df2xUZb7H8e/QX7Sl
tl6kCndh2WX5sa4dCkUUptgzU2kKCKybtdklXQsxSzbkYog/OvxBQI2Xy6+g7G6DVCwo/mEApaIg
tgLFUGCLF9lmh3ZTCJoiSLmk/Kisnenw3D+mzrRTvHod2vHbeb/+Ouc5zznznDxPPn3OdOYZmzFG
AECDAdFuAAB8XwQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCw
AKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUI
LABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUAN
AguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGvGRnGyz2W5XOxAtxphoN+H/h1HX
D/zgUccMC4AaEc2wAtT9iUaA6qkKo06pCEcdMywAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoE
FgA1CCwAamgNrJSUFMuy8vLyJk6ceOjQoWCJ0+nMzc09fvy4x+PZuHFjzxP37t2bnJwcdpEJEya8
9957fXoDUCgjIyOs5NVXX504cWJeXt6sWbOam5sDhcGh6HA4tm7d2seN7OdMBCK/wg+Wnp4e2Kiv
r8/KygormTRp0i3Punbt2pQpU9LS0sIucvLkyREjRvRic3+Uoth9kfgxjLqAqqoqp9N548YNY8ze
vXtdLldYtba2NpfLtX379j5t5Y9bhN2ndYYVdN99933xxRddS7Kyss6ePSu3+nu4dOnSJUuWDBgQ
ftd2uz0+/jZ8rRIxZd26dStXrgxM2GfMmDFq1Cifz9e1Qmpq6po1azZs2BClBvZD6gOrqqrK5XJ1
Ldm/f392dnbPmocPHz5//nxRUVHPQwcOHHj55Zd7p4Hotzwez4QJE4K75eXlCQkJYXXsdvvp06f7
tl39mdZphdfrtSzL5/M1NjZ6PJ5giTEmPT198+bNYfXb29ufeeaZd955p+dF2tvbjx8/7nK5Zs+e
3Xc3AP38fv931uno6OiZYvjBtM6wEhMTa2pqamtr3W534H3NQMmhQ4d27949cuTIsPpvv/329evX
582bZ1lWW1vb448/Hjzl6NGjn376aV1dXZ/fBHQbM2bMyZMnA9vGmJKSkp516urqsrKy+rRZ/ZrW
wAqaPn3698maefPmeTyempqampqaQYMGvfHGG12PDh48eNSoUb3WRvRPixYtWrZsWXt7u4i89dZb
gY2uWltb3W53aWlpNFrXP2l9JAwaO3ZsfX39zZs3f8C5gUfCwHvwmzZtut1NQ3/j9Xpzc3MD2w6H
Y/Xq1U1NTTk5OUOGDMnMzCwrKwtWsyzLZrP5fD63221ZVtRa3O/YTAQrNwYWD4zkCogipd2ntNkI
iLD71D8SAogdBBa6qK6Wn/9cLEssS5YtExEpLZXXXgtVKCiQv/89Wq0DeCSMXbfovm3b5Kuv5E9/
CpV8/LH8+c+yc6eISFubTJokjY193M4wjDrVeCTE7XPhggwd2q3E4ZBPP5WODhGRjz6SwsKotAsI
ILDQxYULsmeP5ObKnDly5oyISFycPPigHDsmIrJnj8ydG90GIsYRWOjCZpPx4+XwYZk/X/74x87C
2bPlgw9ERI4dk2nTotg6gPewYtctuu+zz2T4cImLE79f7rlHLl0SEblyRQoLZeNGeekl6f6B26hg
1KnGe1i4fZYulfffFxH5298k+IWSjAxJSZGKCvn1r6PXMkCEGVYsu0X3NTXJggUSHy8DB0pZmQS/
rrR+vaxYIV9+Kamp0WhpN4w61SLsPgIrdtlsNqU9Z2PUqcUjIYBYof7Lz4iExqlK4E80YhMzLABq
EFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFjopry8fPLkyVOnTp05c+a5c+cChcnJ
yU6nM1gnIyMjsJGSkmJZltPpdDgcgZ+zBXoVgYWQ6urqXbt21dbWHjlyJC8v74knngiUJyUldXR0
1NTUhNUP/HT2wYMHq6qqtm3btmPHjr5uMWIMgYWQdevWvfDCCwkJCSKyaNGi5ORkv98fOPT888+v
WLHi205MTU1ds2bNhg0b+qihiFUEFkI8Ho/dbg9sp6WlVVZWxsXFBXZdLpeIHDx48NvOtdvtp0+f
7oNGIpYRWAjpCPw6jsj69estyxo3blzXo//3JKujoyMwNQN6D4GFkNGjR9fX14vIU089VVlZ+fnn
n3c9allWXFzcgQMHbnluXV1dVnBVZaB3EFgIWbhw4fLly30+n4iUlZUFnweDvm2S1dra6na7S0tL
+6KViGEs4IeQ4uLihoYGu90+bNiw4uLi+Pjw4fHQQw8lJia2t7cHdr1er2VZNpvN5/O53W7Lsvq6
xYgxrOkeu1Qv3cmoU4o13QHECh4JY526qYrqiSEixAwLgBoEFgA1CCwAahBYANQgsACoQWABUIPA
AqAGgQVADQILgBoEFropL5fJk2XqVJk5U75Z0l1SUsSyxOmU3Fw5flxE5JtV3WXLFsnJkSlTJCdH
Xn+9s7CiQqZNk+xsqarqdvETJ6SgQJxOmT5dmpu7XdnhkK6Lwm/eLElJcvFi790odDIRiPwKiKKe
3VdVZQoLjddrjDGrVpmCgs7y9PTOjfp6M2lSqGTfPuNwmNZWY4xpbTUOh6muNi0t5qGHjN9vGhrM
uHHdXnH8eNPcbIwxO3eaoqJuV25rMy6X2b69c3fOHPPMM6ai4ns1G4pE2H0EVuzq2X0FBaaurnP7
2jUzd67p6DCmS6wYYwYPDpXk55sjR0KHamvNww+bhobO3GlrM0OGdHvFoUNNU5Mxxni95uOPw6/8
ySfG4TDGmK++Mvn5prHR/OY336vZUCTC7uPLzwjxeOSbJd0lLU0qK8Mr7N8v2dmh3YYGmTAhtDtx
opw6JePGSWBp5Z07ZfbsbqevXCnTpsnMmVJcLF1+NqyT3S6BReE//FAKC2XsWPnsM/F6JTEx0vtC
v8F7WAj5Zkl3Wb9eLEuCS7p7vWJZkpcnGzbI5s3feroxElxJ4cwZWbtWVq3qVmH+fDl1SnJzZckS
ee65W7x6YFH4d9+VN9+UBx+U8+fl0KFIbwr9ShRnd4iunt2Xmxt6JGxtNQMHdm53fXDrWvLww6a2
NlR4+HDn217Xr5ucHHPsWLdTWlpClVtazN13h1+5psbMmGE6OsyUKZ0l+/aZJ5/87mZDkQi7jxkW
QhYulOXLxecTESkrkx5Luod79lkpLZWrV0VErlwRt1tKS8UYKSmRp5+WBx7oVtlmk6Kizn8OXr4s
I0Z0O9ra2nl6ba2MH99ZOG1a+P8ZEeN4DwshxcXS0CB2uwwbJsXF0mNJ93AFBXLunDidkpQkXq8s
Xiz5+bJli3z4oVy+LJs2yaBB8v77nZXvukvKy+WxxyQ5WeLipKJC5JuHTZtNfD5xu8Wy5OmnxeXq
PCUlRTIzpaFBfvnLXrtnqMKa7rHLZrOJKO27iMYtoog13QHECh4JY5y+qQpruscyZlgA1CCwAKhB
YAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1OCT7uim/L/LN5/YHD8gPmNgRvns8p/c8RMRSfnP
lMn/Ptlms/n8vpcKX7p/2P0ZqzKuLL0iIltObvlr3V8T4xK9fu+TDzxZMr7khu/GgncXXGy7eN17
/QXnC7NGzwpe/MSFE0s/Wuq76YsfEF8xt2L4HcNfPfHqxuMb05LSBiUOeuWRV4bfMVxEghcHwkVx
aRtEV8/uqzpTVfhmodfvNcasOryqYFvnou7p/5Ue2Ki/WD+pfFKwZN/pfY7XHK3/ajXGtP6r1fGa
o/pM9erDq9fWrjXGnL9+/qcv/bTr9cdvHN98tdkYs/PUzqIdRVVnqpxbnTd8N4wxe5v2ul53hb3c
92w2FImw+5hhIWTdkXUvul5MGJAgIovuX3S0+ajf+ONsoWWxsjKzzraeDe6urV27tmBtxsAMEckY
mLFm+poVNSu2P7Y9NSFVRDwtnoS4hK7Xb/mq5euOr0Vkztg5mamZL3784sr8lcnxySIy4xczdjXs
8t30BV4duCUCCyGeFo/97s5F3dMS0yp/VxlWYf/Z/dn3ZAd3G/6nYcI9oUXdJw6deOrSqTsH3iki
f9j1h3ca3tn9+91dT1+Zv3LalmkzR88sthc7Rzo9LZ4JQ0Onl88uv833g36HwEJIx83ORd3XH12/
+5+7v2z7svE/GkXE6/daWy0jJj0pffOcb13U3YixSedSCtse3fbbe3/7+snX83+WH6wwP3v+3HFz
Kxsrl+xb8ui4R/3G35t3g36I/xIiZPTg0fUX60XkqSlPVf6u8vOrnwfKE+MSa+bXHJp/aPfvd4/M
GBmsf++Qe09cOBHcPXHhxK8yf7X4g8WB4HtkzCN7mvYEj166celI85E7B965IHvBR49/9Monr4wZ
PObklycDR42YksqSXr9DKEdgIWRhzsLlB5f7bvpEpOx4Wdd3r27p2anPllaXXm2/KiJXvr7irnaX
Okqvfn21srFSRI40Hxk7eGywsk1sRTuKmq81i8jlG5dHpI9YdP+iZQeWtfvbReStf7zV3tHea3eG
foJHQoQU24sbLjXYN9qHpQ0rthfHD/iO4VEwquDctXPOrc6k+CSv37t48uL8n+WP/rfRJZUlf6n7
S2JcYsXcimDlu1LuKp9d/tj2x5ITkuNscRVzK+7LvK/pclPOppwhqUMyUzPLZpYFanr93tyK3MC2
Y4Rj9cOre+l+oQ5ruscum80mz0W7ET/Mc4w6rVjTHUCsYIYVu5R2n9JmI4AZFoBYQWABUIPAAqAG
gQVADQILgBoEFgA1bsMn3fnpcPQ9Rl1sYoYFQI2IPjgKAH2JGRYANQgsAGoQWADUILAAqEFgAVCD
wAKgBoEFQA0CC4AaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYANQgsAGoQWADU
ILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYA
NQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEF
QA0CC4Aa/wtGbjBEZllU8AAAAABJRU5ErkJggg=="""

HTML = f"""
<h1>ArtHexis Control Mode on RPi 4B</h1>
<p>Run arthexis with <code>--control</code> to operate the LCD.</p>
<p>Wire the Raspberry Pi to the LCD as follows:</p>
<ul>
<li>5V (pin 2) to LCD VCC</li>
<li>GND (pin 6) to LCD GND</li>
<li>GPIO2 SDA (pin 3) to LCD SDA</li>
<li>GPIO3 SCL (pin 5) to LCD SCL</li>
</ul>
<p>Wire the MFRC522 RFID scanner as follows:</p>
<ul>
<li>3.3V (pin 1) to RFID VCC</li>
<li>GND (pin 6) to RFID GND</li>
<li>GPIO8 CE0 (pin 24) to RFID SDA</li>
<li>GPIO11 SCLK (pin 23) to RFID SCK</li>
<li>GPIO10 MOSI (pin 19) to RFID MOSI</li>
<li>GPIO9 MISO (pin 21) to RFID MISO</li>
<li>GPIO22 (pin 15) to RFID RST</li>
</ul>
<p>Enable I2C and SPI using <code>sudo raspi-config</code>:</p>
<ol>
<li>Interface Options → I2C → Enable</li>
<li>Interface Options → SPI → Enable</li>
<li>Finish and reboot</li>
</ol>
<p>Compatible LCD screens:</p>
<ul>
<li>HD44780 16x2 I2C modules</li>
<li>HD44780 20x4 I2C modules</li>
</ul>
<p>Compatible RFID scanners:</p>
<ul>
<li>MFRC522 SPI modules</li>
<li>PN532 SPI modules</li>
</ul>
<img src="data:image/png;base64,{DIAGRAM}" alt="Wiring diagram">
"""

PDF = """JVBERi0xLjMKJZOMi54gUmVwb3J0TGFiIEdlbmVyYXRlZCBQREYgZG9jdW1lbnQgaHR0cDovL3d3dy5yZXBvcnRsYWIuY29tCjEgMCBvYmoKPDwKL0YxIDIgMCBSCj4+CmVuZG9iagoyIDAgb2JqCjw8Ci9CYXNlRm9udCAvSGVsdmV0aWNhIC9FbmNvZGluZyAvV2luQW5zaUVuY29kaW5nIC9OYW1lIC9GMSAvU3VidHlwZSAvVHlwZTEgL1R5cGUgL0ZvbnQKPj4KZW5kb2JqCjMgMCBvYmoKPDwKL0NvbnRlbnRzIDcgMCBSIC9NZWRpYUJveCBbIDAgMCA2MTIgNzkyIF0gL1BhcmVudCA2IDAgUiAvUmVzb3VyY2VzIDw8Ci9Gb250IDEgMCBSIC9Qcm9jU2V0IFsgL1BERiAvVGV4dCAvSW1hZ2VCIC9JbWFnZUMgL0ltYWdlSSBdCj4+IC9Sb3RhdGUgMCAvVHJhbnMgPDwKCj4+IAogIC9UeXBlIC9QYWdlCj4+CmVuZG9iago0IDAgb2JqCjw8Ci9QYWdlTW9kZSAvVXNlTm9uZSAvUGFnZXMgNiAwIFIgL1R5cGUgL0NhdGFsb2cKPj4KZW5kb2JqCjUgMCBvYmoKPDwKL0F1dGhvciAoYW5vbnltb3VzKSAvQ3JlYXRpb25EYXRlIChEOjIwMjUwOTEzMDQxMDIyKzAwJzAwJykgL0NyZWF0b3IgKFJlcG9ydExhYiBQREYgTGlicmFyeSAtIHd3dy5yZXBvcnRsYWIuY29tKSAvS2V5d29yZHMgKCkgL01vZERhdGUgKEQ6MjAyNTA5MTMwNDEwMjIrMDAnMDAnKSAvUHJvZHVjZXIgKFJlcG9ydExhYiBQREYgTGlicmFyeSAtIHd3dy5yZXBvcnRsYWIuY29tKSAKICAvU3ViamVjdCAodW5zcGVjaWZpZWQpIC9UaXRsZSAodW50aXRsZWQpIC9UcmFwcGVkIC9GYWxzZQo+PgplbmRvYmoKNiAwIG9iago8PAovQ291bnQgMSAvS2lkcyBbIDMgMCBSIF0gL1R5cGUgL1BhZ2VzCj4+CmVuZG9iago3IDAgb2JqCjw8Ci9GaWx0ZXIgWyAvQVNDSUk4NURlY29kZSAvRmxhdGVEZWNvZGUgXSAvTGVuZ3RoIDU3MQo+PgpzdHJlYW0KR2FzSlA5NWdSWidTWjtbJ2tgcXBQUkpEbUBodD41UD4iaTstM0RcN1xmbyIrNEEnRiMqJls/VmEhUkhFNjhfKVtGVCglOTBhRz0wYmlNbU9IajtkMXBjMz9RJnU5PFFybEBTamBBa09kRU9TRGMjSWY4OkZHSV0tZGEuOXE5MkkoRVAkPy9rTUVxVGYkUCo0JClYLz8+NUBFcUddR0pZUmhHakNoZixHLVJIKENmWUFBTTZCKSU7JEUlN2N1RUdIUXJWRUUzaUpWVVN0PyJ0JENKT2QwJWxtOGVcJF5SRShBMExZRGJPJFVTY2FOKF5NL2MvIk9MXF5sZWYkTVlKMTtQVE1MdW5oM3BmTzxKI3JUTyxlM2NSIzImYGh1M3BrTlZTJkAtKyJTIWBFOzxGOFg5UlNHNilnUkRvcEs1JSJxbGQvW2w0XD1HM2Qtc09ubHAoKjF0VCxqPzVoVTdqN01GR0c7LEw2OylAWmgkYixYNnJaOEJvUjVgW05xSj8qI1J1akxmY3BIYjxtSGpGSEFCUVBsNm1zZ3E2RilFTzA9Z2syMTRKNjZMMjZlQWhJTGhgODgrbU89akFdUzFtYXJUbj1jamk/SDdARFNwXEgxOjQ5YzZfTHI7J0RRN3NyPj10a1YnMnVGbDE8bzQ5ZWk3NkQoX15PR0dSZjAlcDxOVCEyWzw1VFtaZGI/VnAxJkFjR0FzWGM/bHR0R0xpbiRXMFBsXUJebSFjST5kN1Nec3RZMFo3Tzl+PmVuZHN0cmVhbQplbmRvYmoKeHJlZgowIDgKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDczIDAwMDAwIG4gCjAwMDAwMDAxMDQgMDAwMDAgbiAKMDAwMDAwMDIxMSAwMDAwMCBuIAowMDAwMDAwNDA0IDAwMDAwIG4gCjAwMDAwMDA0NzIgMDAwMDAgbiAKMDAwMDAwMDc2OCAwMDAwMCBuIAowMDAwMDAwODI3IDAwMDAwIG4gCnRyYWlsZXIKPDwKL0lEIApbPDg0ZTJjM2MyMjAxMmQzYTljZDIwMzZkYzgxZmYxNTUzPjw4NGUyYzNjMjIwMTJkM2E5Y2QyMDM2ZGM4MWZmMTU1Mz5dCiUgUmVwb3J0TGFiIGdlbmVyYXRlZCBQREYgZG9jdW1lbnQgLS0gZGlnZXN0IChodHRwOi8vd3d3LnJlcG9ydGxhYi5jb20pCgovSW5mbyA1IDAgUgovUm9vdCA0IDAgUgovU2l6ZSA4Cj4+CnN0YXJ0eHJlZgoxNDg4CiUlRU9GCg=="""


def create_manual(apps, schema_editor):
    UserManual = apps.get_model("man", "UserManual")
    UserManual.objects.create(
        slug="rpi-control",
        title="RPi 4B Control Mode",
        description="Wiring and control instructions for an RPi 4B.",
        content_html=HTML,
        content_pdf=PDF,
    )


def delete_manual(apps, schema_editor):
    UserManual = apps.get_model("man", "UserManual")
    UserManual.objects.filter(slug="rpi-control").delete()


class Migration(migrations.Migration):

    dependencies = [("man", "0001_initial")]

    operations = [migrations.RunPython(create_manual, delete_manual)]
